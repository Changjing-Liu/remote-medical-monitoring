#include <Adafruit_SSD1306.h>
//#include <WiFiUdp.h>//
#include <NTPClient.h> //时钟
//#include "splash.h"

//#include <Wire.h>
//#include <Adafruit_GFX.h>

////////////////////////OLED_setting
#define SCREEN_WIDTH 128 // OLED display width, in pixels
#define SCREEN_HEIGHT 64 // OLED display height, in pixels
#define OLED_RESET -1    // Reset pin # (or -1 if sharing Arduino reset pin)

#define SCREEN_ADDRESS 0x3C ///< See datasheet for Address; 0x3D for 128x64, 0x3C for 128x32

//String weekDays[7] = {"Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"};
//Month names
//String months[12] = {"January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"};
//中文：年
static const unsigned char PROGMEM nian[] =
    {
        0x10, 0x00, 0x10, 0x00, 0x1F, 0xFC, 0x20, 0x80, 0x20, 0x80, 0x40, 0x80, 0x1F, 0xF8, 0x10, 0x80,
        0x10, 0x80, 0x10, 0x80, 0xFF, 0xFE, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80};

static const unsigned char PROGMEM yue[] =
    {
        0x00, 0x00, 0x1F, 0xF8, 0x10, 0x08, 0x10, 0x08, 0x10, 0x08, 0x1F, 0xF8, 0x10, 0x08, 0x10, 0x08,
        0x10, 0x08, 0x1F, 0xF8, 0x10, 0x08, 0x10, 0x08, 0x20, 0x08, 0x20, 0x08, 0x40, 0x28, 0x80, 0x10};

static const unsigned char PROGMEM ri[] =
    {
        0x00, 0x00, 0x1F, 0xF8, 0x10, 0x08, 0x10, 0x08, 0x10, 0x08, 0x1F, 0xF8, 0x10, 0x08, 0x10, 0x08,
        0x10, 0x08, 0x1F, 0xF8, 0x10, 0x08, 0x10, 0x08, 0x20, 0x08, 0x20, 0x08, 0x40, 0x28, 0x80, 0x10};

//中文：心
static const unsigned char PROGMEM str_1[] =
    {
        0x00, 0x00, 0x02, 0x00, 0x01, 0x00, 0x00, 0x80, 0x00, 0x80, 0x04, 0x00, 0x04, 0x08, 0x24, 0x04,
        0x24, 0x04, 0x24, 0x02, 0x44, 0x02, 0x44, 0x12, 0x84, 0x10, 0x04, 0x10, 0x03, 0xF0, 0x00, 0x00};
//中文：率
static const unsigned char PROGMEM str_2[] =
    {
        0x02, 0x00, 0x01, 0x00, 0x7F, 0xFC, 0x02, 0x00, 0x44, 0x44, 0x2F, 0x88, 0x11, 0x10, 0x22, 0x48,
        0x4F, 0xE4, 0x00, 0x20, 0x01, 0x00, 0xFF, 0xFE, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00};

class OLED_SSD1306 : public Adafruit_SSD1306
{
public:
    

    OLED_SSD1306(uint8_t w, uint8_t h, TwoWire *twi,
                 int8_t rst_pin);
    /*
    OLED_SSD1306(uint8_t w, uint8_t h, int8_t mosi_pin, int8_t sclk_pin,
                 int8_t dc_pin, int8_t rst_pin, int8_t cs_pin);

    OLED_SSD1306(uint8_t w, uint8_t h, SPIClass *spi, int8_t dc_pin,
                 int8_t rst_pin, int8_t cs_pin, uint32_t bitrate);

    // DEPRECATED CONSTRUCTORS - for back compatibility, avoid in new projects
    OLED_SSD1306(int8_t mosi_pin, int8_t sclk_pin, int8_t dc_pin,
                 int8_t rst_pin, int8_t cs_pin);

    OLED_SSD1306(int8_t dc_pin, int8_t rst_pin, int8_t cs_pin);
    OLED_SSD1306(int8_t rst_pin);
    */
    void Initial(void);
    void drawHR(int tem);
    void drawtime(NTPClient timeClient);

    //~OLED_SSD1306(void);
    //OLED();
    //~OLED(void);

private:
    //SPIClass *spi;
    TwoWire *wire;
    uint8_t *buffer;
    int8_t i2caddr, vccstate, page_end;
    //int8_t mosiPin, clkPin, dcPin, csPin, rstPin;
};
